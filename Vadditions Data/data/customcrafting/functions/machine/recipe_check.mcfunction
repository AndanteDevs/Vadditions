#@s = custom crafter unless block ~ ~ ~ #vadditions:holds/custom_crafter{Items:[]}

#pre
execute store result score @s VADS_FrstStckSze run data get block ~ ~ ~ Items[0].Count

#bonsai pot
execute if block ~ ~ ~ minecraft:dropper{Items:[{Slot:0b,id:"minecraft:bone_block",Count:1b},{Slot:1b,id:"minecraft:cobblestone",Count:1b},{Slot:2b,id:"minecraft:bone_block",Count:1b},{Slot:3b,id:"minecraft:cobblestone",Count:1b},{Slot:4b,id:"minecraft:bone_block",Count:1b},{Slot:5b,id:"minecraft:cobblestone",Count:1b},{Slot:6b,id:"minecraft:bone_block",Count:1b},{Slot:7b,id:"minecraft:hopper",Count:1b},{Slot:8b,id:"minecraft:bone_block",Count:1b}]} run data merge block ~ ~ ~ {Items:[{Slot:8b,id:"minecraft:diamond_hoe",Count:1b,tag:{Unbreakable:1,Damage:12,display:{Name:"{\"translate\":\"block.vadditions.bonsai_pot\"}"},isMachine:1b,VADS_Machine:"vadditions:bonsai_pot"}}]}
#lazer core
execute if block ~ ~ ~ minecraft:dropper{Items:[{Slot:0b,id:"minecraft:iron_block",Count:1b},{Slot:1b,id:"minecraft:stone_slab",Count:1b},{Slot:2b,id:"minecraft:iron_block",Count:1b},{Slot:3b,id:"minecraft:iron_block",Count:1b},{Slot:4b,id:"minecraft:redstone_torch",Count:1b},{Slot:5b,id:"minecraft:iron_block",Count:1b},{Slot:6b,id:"minecraft:iron_block",Count:1b},{Slot:7b,id:"minecraft:stone_slab",Count:1b},{Slot:8b,id:"minecraft:iron_block",Count:1b}]} run data merge block ~ ~ ~ {Items:[{Slot:8b,id:"minecraft:diamond_hoe",Count:1b,tag:{Unbreakable:1,Damage:3,isMachine:1b,VADS_Machine:"vadditions:lazer.core",display:{Name:"{\"translate\":\"item.vadditions.lazer.core\"}",Lore:[" ยง9Material"]}}}]}
#transanium lazer
execute if block ~ ~ ~ minecraft:dropper{Items:[{Slot:0b,Count:1b,tag:{isCustomItem:1b,VADS_Item:"vadditions:ore.transanium"}},{Slot:1b,id:"minecraft:iron_ingot",Count:1b},{Slot:2b,Count:1b,tag:{isCustomItem:1b,VADS_Item:"vadditions:ore.transanium"}},{Slot:3b,id:"minecraft:stone",Count:1b},{Slot:4b,Count:1b,tag:{isMachine:1b,VADS_Machine:"vadditions:lazer.core"}},{Slot:5b,id:"minecraft:stone",Count:1b},{Slot:6b,Count:1b,tag:{isCustomItem:1b,VADS_Item:"vadditions:ore.transanium"}},{Slot:7b,id:"minecraft:iron_ingot",Count:1b},{Slot:8b,Count:1b,tag:{isCustomItem:1b,VADS_Item:"vadditions:ore.transanium"}}]} run data merge block ~ ~ ~ {Items:[{Slot:8b,id:"minecraft:diamond_hoe",Count:1b,tag:{Unbreakable:1,Damage:4,isMachine:1b,VADS_Machine:"vadditions:lazer.transanium",display:{Name:"{\"translate\":\"item.vadditions.lazer.transanium\"}"}}}]}
#sticky tnt
execute if block ~ ~ ~ minecraft:dropper{Items:[{Slot:1b,id:"minecraft:slime_ball",Count:1b},{Slot:3b,id:"minecraft:slime_ball",Count:1b},{Slot:4b,id:"minecraft:tnt",Count:1b},{Slot:5b,id:"minecraft:slime_ball",Count:1b},{Slot:7b,id:"minecraft:slime_ball",Count:1b}]} run data merge block ~ ~ ~ {Items:[{Slot:4b,id:"minecraft:diamond_hoe",Count:1b,tag:{Unbreakable:1,Damage:5,isItem:1b,VADS_Item:"vadditions:sticky_tnt",display:{Name:"{\"translate\":\"item.vadditions.tnt.sticky\"}"}}}]}
#smeltery
execute if block ~ ~ ~ minecraft:dropper{Items:[{Slot:0b,id:"minecraft:cobblestone",Count:1b},{Slot:1b,id:"minecraft:piston",Count:1b},{Slot:2b,id:"minecraft:cobblestone",Count:1b},{Slot:3b,id:"minecraft:coal",Count:1b},{Slot:4b,id:"minecraft:lava_bucket",Count:1b},{Slot:5b,id:"minecraft:coal",Count:1b},{Slot:6b,id:"minecraft:iron_ingot",Count:1b},{Slot:7b,id:"minecraft:obsidian",Count:1b},{Slot:8b,id:"minecraft:iron_ingot",Count:1b}]} run data merge block ~ ~ ~ {Items:[{Slot:8b,id:"minecraft:diamond_hoe",Count:1b,tag:{Unbreakable:1,Damage:10s,isMachine:1b,VADS_Machine:"vadditions:smeltry",display:{Name:"{\"translate\":\"item.vadditions.smeltry\"}"}}}]}
#fields
    #light
execute if score @s VADS_SlotCount matches 5 if score @s VADS_StackSize matches 1 if score @s VADS_FrstStckSze = @s VADS_StackSize if block ~ ~ ~ minecraft:dropper{Items:[{Slot:1b,id:"minecraft:bone",Count:1b},{Slot:3b,id:"minecraft:rotten_flesh",Count:1b},{Slot:4b,id:"minecraft:sea_lantern",Count:1b},{Slot:5b,id:"minecraft:string",Count:1b},{Slot:7b,id:"minecraft:compass",Count:1b}]} run data merge block ~ ~ ~ {Items:[{Slot:8b,id:"minecraft:armor_stand",Count:1b,tag:{display:{Name:"{\"translate\":\"entity.vadditions.field.light\",\"color\":\"aqua\",\"italic\":\"false\"}"},Enchantments:[{id:"minecraft:unbreaking",lvl:1}],HideFlags:1,EntityTag:{id:"minecraft:armor_stand",Tags:["VADS_LightField","VADS_LightFieldEntity","VADS_Turn","VADS_NoNameMarker"],CustomName:"{\"translate\":\"entity.vadditions.field.light\",\"color\":\"aqua\"}",CustomNameVisible:1,Marker:1,Invisible:1,Invulnerable:1,NoGravity:1,ArmorItems:[{},{},{},{id:"minecraft:sea_lantern",Count:1b}]}}}]}

#post
execute store result score @s VADS_NewStckSze run data get block ~ ~ ~ Items[0].Count
scoreboard players operation @s VADS_NewStckSze *= @s VADS_FrstStckSze
execute if block ~ ~ ~ #vadditions:holds/custom_crafter{Items:[{tag:{vadditions:{multiply:true}}}]} store result block ~ ~ ~ Items[0].Count byte 1 run scoreboard players get @s VADS_NewStckSze
execute if block ~ ~ ~ #vadditions:holds/custom_crafter{Items:[{tag:{vadditions:{multiply:true}}}]} run data remove block ~ ~ ~ Items[0].tag.vadditions